/**
 * Html5 Placeholder Polyfill - v2.0.6 - 2013-03-01
 * web: * http://blog.ginader.de/dev/jquery/HTML5-placeholder-polyfill/
 * issues: * https://github.com/ginader/HTML5-placeholder-polyfill/issues
 * Copyright (c) 2012 Dirk Ginader; Licensed MIT, GPL
*/
(function(e){var a=false,h;function b(k,l){if(k.val()===""){k.data("placeholder").removeClass(l.hideClass)}else{k.data("placeholder").addClass(l.hideClass)}}function f(k,l){k.data("placeholder").addClass(l.hideClass)}function g(p,l){var k=l.is("textarea");var n=parseFloat(l.css("padding-top"));var m=parseFloat(l.css("padding-left"));var o=l.offset();if(n){o.top+=n}if(m){o.left+=m}p.css({width:l.innerWidth()-(k?20:4),height:l.innerHeight()-6,lineHeight:l.css("line-height"),whiteSpace:k?"normal":"nowrap",overflow:"hidden"}).offset(o)}function c(k,l){var m=k.val();(function n(){h=requestAnimationFrame(n);if(k.val()!==m){f(k,l);j();i(k,l)}}())}function i(k,l){(function m(){h=requestAnimationFrame(m);b(k,l)}())}function j(){cancelAnimationFrame(h)}function d(k){if(a&&window.console&&window.console.log){window.console.log(k)}}e.fn.placeHolder=function(m){d("init placeHolder");var n=this;var k=e(this).length;this.options=e.extend({className:"placeholder",visibleToScreenreaders:true,visibleToScreenreadersHideClass:"placeholder-hide-except-screenreader",visibleToNoneHideClass:"placeholder-hide",hideOnFocus:false,removeLabelClass:"visuallyhidden",hiddenOverrideClass:"visuallyhidden-with-placeholder",forceHiddenOverride:true,forceApply:false,autoInit:true},m);this.options.hideClass=this.options.visibleToScreenreaders?this.options.visibleToScreenreadersHideClass:this.options.visibleToNoneHideClass;return e(this).each(function(r){var t=e(this),v=t.attr("placeholder"),o=t.attr("id"),s,u,q,p;function l(){if(!n.options.hideOnFocus&&window.requestAnimationFrame){c(t,n.options)}else{f(t,n.options)}}if(v===""||v===undefined){v=t[0].attributes.placeholder.value}s=t.closest("label");t.removeAttr("placeholder");if(!s.length&&!o){d("the input element with the placeholder needs an id!");return}s=s.length?s:e('label[for="'+o+'"]').first();if(!s.length){d("the input element with the placeholder needs a label!");return}p=e(s).find(".placeholder");if(p.length){g(p,t);p.text(v);return t}if(s.hasClass(n.options.removeLabelClass)){s.removeClass(n.options.removeLabelClass).addClass(n.options.hiddenOverrideClass)}u=e("<span>").addClass(n.options.className).text(v).appendTo(s);q=(u.width()>t.width());if(q){u.attr("title",v)}g(u,t);t.data("placeholder",u);u.data("input",u);u.click(function(){e(this).data("input").focus()});t.focusin(l);t.focusout(function(){b(e(this),n.options);if(!n.options.hideOnFocus&&window.cancelAnimationFrame){j()}});b(t,n.options);e(document).bind("fontresize resize",function(){g(u,t)});if(e.event.special.resize){e("textarea").bind("resize",function(w){g(u,t)})}else{e("textarea").css("resize","none")}if(r>=k-1&&typeof e.attrHooks!=="undefined"){e.attrHooks.placeholder={get:function(w){if(w.nodeName.toLowerCase()==="input"||w.nodeName.toLowerCase()==="textarea"){if(e(w).data("placeholder")){return e(e(w).data("placeholder")).text()}else{return e(w)[0].placeholder}}else{return undefined}},set:function(w,x){return e(e(w).data("placeholder")).text(x)}}}if(t.is(":focus")){l()}})};e(function(){var k=window.placeHolderConfig||{};if(k.autoInit===false){d("placeholder:abort because autoInit is off");return}if(("placeholder" in e("<input>")[0]||"placeHolder" in e("<input>")[0])&&!k.forceApply){d("placeholder:abort because browser has native support");return}e("input[placeholder], textarea[placeholder]").placeHolder(k)})}(jQuery));